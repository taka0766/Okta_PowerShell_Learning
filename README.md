# Okta PowerShell 学習用スクリプト集

このリポジトリは、Okta API を PowerShell から操作するための学習用スクリプト集です。各スクリプトは、特定のユースケースを想定して作成されておりますが、現時点で動作未検証です。

## スクリプト一覧

### 1. `Studies_4_Gov.ps1`

* **ユースケース:** 官公庁のような組織構造が複雑で、職位や部署に応じて厳格なアクセス権管理が必要な環境。
* **説明:** CSVファイルから職員情報を読み込み、Okta API を使用して、各職員を職位・部署に対応する Okta グループに自動的に追加します。これにより、手動でのグループ追加作業を削減し、効率的なアクセス権管理を実現します。
* **想定環境:**
    * Okta API が利用可能な環境
    * 職員情報が記載された CSV ファイル
    * 職位・部署に対応する Okta グループが事前に作成されていること

### 2. `Studies_4_school.ps1`

* **ユースケース:** 学校や大学など、新入生の Okta アカウントを自動的に作成する必要がある環境。
* **説明:** CSVファイルから学籍情報を読み込み、Okta API を使用して、各学生の Okta ユーザーアカウントを自動的に作成します。これにより、大量の学生アカウント作成作業を効率化し、人的ミスの削減にも繋がります。
* **想定環境:**
    * Okta API が利用可能な環境
    * 学籍情報が記載された CSV ファイル
    * 学生のメールアドレスに使用するドメインが Okta に登録済みであること

## 実行方法【動作未検証】

各スクリプトは、PowerShell から実行できます。実行前に、以下の点を確認してください。

1.  CSVファイル（`EmployeeData.csv` または `StudentData.csv`）をスクリプトと同じディレクトリに配置します。
2.  スクリプト内の `$OktaApiUrl` と `$OktaApiKey` 変数を、実際の Okta 環境に合わせて設定します。
3.  PowerShell コンソールで、スクリプトを実行します。

## 注意事項

* このスクリプトは学習用であり、現時点で動作未検証です。実際の運用環境で使用する場合は、十分なテストを行ってください。
* Okta API キーなどの機密情報は、スクリプト内に直接記述せず、環境変数などを利用して安全に管理してください。
* CSVファイルの形式は、スクリプト内のプロパティ名と一致するようにしてください。

## ToDo

* スクリプトの動作確認
* エラーハンドリングの追加
* ログ出力機能の追加
* `Studies_4_school.ps1` について、卒業生の卒業時に Okta アカウントを自動的に削除する機能の追加
